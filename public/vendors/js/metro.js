!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(jQuery){"use strict";function keyHandler(e){if("string"==typeof e.data&&(e.data={keys:e.data}),e.data&&e.data.keys&&"string"==typeof e.data.keys){var t=e.handler,n=e.data.keys.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!($.hotkeys.options.filterInputAcceptingElements&&$.hotkeys.textInputTypes.test(e.target.nodeName)||$.hotkeys.options.filterContentEditable&&$(e.target).attr("contenteditable")||$.hotkeys.options.filterTextInputs&&$.inArray(e.target.type,$.hotkeys.textAcceptingInputTypes)>-1)){var a="keypress"!==e.type&&$.hotkeys.specialKeys[e.which],o=String.fromCharCode(e.which).toLowerCase(),i="",s={};$.each(["alt","ctrl","shift"],function(t,n){e[n+"Key"]&&a!==n&&(i+=n+"+")}),e.metaKey&&!e.ctrlKey&&"meta"!==a&&(i+="meta+"),e.metaKey&&"meta"!==a&&i.indexOf("alt+ctrl+shift+")>-1&&(i=i.replace("alt+ctrl+shift+","hyper+")),a?s[i+a]=!0:(s[i+o]=!0,s[i+$.hotkeys.shiftNums[o]]=!0,"shift+"===i&&(s[$.hotkeys.shiftNums[o]]=!0));for(var r=0,l=n.length;r<l;r++)if(s[n[r]])return t.apply(this,arguments)}}}}function handler(e){var t,n=e||window.event,a=[].slice.call(arguments,1),o=0,i=0,s=0,r=0,l=0;return e=$.event.fix(n),e.type="mousewheel",n.wheelDelta&&(o=n.wheelDelta),n.detail&&(o=-1*n.detail),n.deltaY&&(s=-1*n.deltaY,o=s),n.deltaX&&(i=n.deltaX,o=-1*i),void 0!==n.wheelDeltaY&&(s=n.wheelDeltaY),void 0!==n.wheelDeltaX&&(i=-1*n.wheelDeltaX),r=Math.abs(o),(!lowestDelta||r<lowestDelta)&&(lowestDelta=r),l=Math.max(Math.abs(s),Math.abs(i)),(!lowestDeltaXY||l<lowestDeltaXY)&&(lowestDeltaXY=l),t=o>0?"floor":"ceil",o=Math[t](o/lowestDelta),i=Math[t](i/lowestDeltaXY),s=Math[t](s/lowestDeltaXY),a.unshift(e,o,i,s),($.event.dispatch||$.event.handle).apply(this,a)}function preCode(e){Array.prototype.slice.call(document.querySelectorAll(e),0).forEach(function(e,t,n){var a=e.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(a))return void(e.textContent=a);for(var o,i,s,r=/^[\t ]+/gm,l=1e3;o=r.exec(a);)(s=o[0].length)<l&&(l=s,i=o[0]);1e3!=l&&(e.textContent=a.replace(new RegExp("^"+i,"gm"),""))})}function touch2Mouse(e){var t,n=e.changedTouches[0];switch(e.type){case"touchstart":t="mousedown";break;case"touchend":t="mouseup";break;case"touchmove":t="mousemove";break;default:return}"mousedown"==t&&(eventTimer=(new Date).getTime(),startX=n.clientX,startY=n.clientY,mouseDown=!0),"mouseup"==t&&((new Date).getTime()-eventTimer<=500?t="click":(new Date).getTime()-eventTimer>1e3&&(t="longclick"),eventTimer=0,mouseDown=!1),"mousemove"==t&&mouseDown&&(deltaX=n.clientX-startX,deltaY=n.clientY-startY,moveDirection=deltaX>deltaY?"horizontal":"vertical");var a=document.createEvent("MouseEvent");a.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(a),e.preventDefault()}var $=jQuery;if(window.METRO_VERSION="3.0.17",void 0===jQuery)throw new Error("Metro's JavaScript requires jQuery");void 0===window.METRO_AUTO_REINIT&&(window.METRO_AUTO_REINIT=!0),void 0===window.METRO_LANGUAGE&&(window.METRO_LANGUAGE="en"),void 0===window.METRO_LOCALE&&(window.METRO_LOCALE="EN_en"),void 0===window.METRO_CURRENT_LOCALE&&(window.METRO_CURRENT_LOCALE="en"),void 0===window.METRO_SHOW_TYPE&&(window.METRO_SHOW_TYPE="slide"),void 0===window.METRO_DEBUG&&(window.METRO_DEBUG=!0),void 0===window.METRO_CALENDAR_WEEK_START&&(window.METRO_CALENDAR_WEEK_START=0),window.canObserveMutation="MutationObserver"in window,Number.prototype.format=function(e,t,n,a){var o="\\d(?=(\\d{"+(t||3)+"})+"+(e>0?"\\D":"$")+")",i=this.toFixed(Math.max(0,~~e));return(a?i.replace(".",a):i).replace(new RegExp(o,"g"),"$&"+(n||","))},Array.prototype.shuffle=function(){for(var e,t,n=this.length;0!==n;)t=Math.floor(Math.random()*n),n-=1,e=this[n],this[n]=this[t],this[t]=e;return this},Array.prototype.clone=function(){return this.slice(0)},Array.prototype.unique=function(){for(var e=this.concat(),t=0;t<e.length;++t)for(var n=t+1;n<e.length;++n)e[t]===e[n]&&e.splice(n--,1);return e},window.isTouchDevice=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},window.METRO_LOCALES={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Su","Mo","Tu","We","Th","Fr","Sa"],buttons:["Today","Clear","Cancel","Help","Prior","Next","Finish"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre","Jan","Fév","Mars","Avr","Mai","Juin","Juil","Août","Sept","Oct","Nov","Déc"],days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Di","Lu","Ma","Me","Je","Ve","Sa"],buttons:["Aujourd'hui","Effacer","Annuler","Aide","Précedent","Suivant","Fin"]},nl:{months:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December","Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],days:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zo","Ma","Di","Wo","Do","Vr","Za"],buttons:["Vandaag","Verwijderen","Annuleren","Hulp","Vorige","Volgende","Einde"]},ua:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень","Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],days:["Неділя","Понеділок","Вівторок","Середа","Четвер","П’ятниця","Субота","Нд","Пн","Вт","Ср","Чт","Пт","Сб"],buttons:["Сьогодні","Очистити","Скасувати","Допомога","Назад","Вперед","Готово"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь","Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Вс","Пн","Вт","Ср","Чт","Пт","Сб"],buttons:["Сегодня","Очистить","Отменить","Помощь","Назад","Вперед","Готово"]},zhCN:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月","一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","日","一","二","三","四","五","六"],buttons:["今日","清除","Cancel","Help","Prior","Next","Finish"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre","Gen"," Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Dom","Lun","Mar","Mer","Gio","Ven","Sab"],buttons:["Oggi","Cancella","Cancel","Help","Prior","Next","Finish"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember","Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","So","Mo","Di","Mi","Do","Fr","Sa"],buttons:["Heute","Zurücksetzen","Abbrechen","Hilfe","Früher","Später","Fertig"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre","Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sept","Oct","Nov","Dic"],days:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Do","Lu","Mar","Mié","Jue","Vi","Sáb"],buttons:["Hoy","Limpiar","Cancel","Help","Prior","Next","Finish"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro","Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],days:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sabado","Dom","Seg","Ter","Qua","Qui","Sex","Sab"],buttons:["Hoje","Limpar","Cancelar","Ajuda","Anterior","Seguinte","Terminar"]},pl:{months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień","Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota","Nd","Pon","Wt","Śr","Czw","Pt","Sob"],buttons:["Dzisiaj","Wyczyść","Anuluj","Pomoc","Poprzedni","Następny","Koniec"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec","Led","Ún","Bř","Dub","Kvě","Če","Čer","Srp","Zá","Ří","Li","Pro"],days:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota","Ne","Po","Út","St","Čt","Pá","So"],buttons:["Dnes","Vyčistit","Zrušit","Pomoc","Předešlý","Další","Dokončit"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม","ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],days:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์","อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],buttons:["วันนี้","ล้าง","ยกเลิก","ช่วยเหลือ","กลับ","ต่อไป","เสร็จ"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember","Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Dec"],days:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Mi","Se","Se","Ra","Ka","Ju","Sa"],buttons:["Hari Ini","Mengulang","Batalkan","Bantuan","Sebelumnya","Berikutnya","Selesai"]}};var dateFormat=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,a=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e};return function(o,i,s){var r=dateFormat;1!==arguments.length||"[object String]"!==Object.prototype.toString.call(o)||/\d/.test(o)||(i=o,o=void 0),o=o?new Date(o):new Date,i=String(r.masks[i]||i||r.masks.default),"UTC:"===i.slice(0,4)&&(i=i.slice(4),s=!0);var l=window.METRO_CURRENT_LOCALE||"en",d=s?"getUTC":"get",c=o[d+"Date"](),h=o[d+"Day"](),u=o[d+"Month"](),f=o[d+"FullYear"](),p=o[d+"Hours"](),m=o[d+"Minutes"](),g=o[d+"Seconds"](),v=o[d+"Milliseconds"](),y=s?0:o.getTimezoneOffset(),_={d:c,dd:a(c),ddd:window.METRO_LOCALES[l].days[h],dddd:window.METRO_LOCALES[l].days[h+7],m:u+1,mm:a(u+1),mmm:window.METRO_LOCALES[l].months[u],mmmm:window.METRO_LOCALES[l].months[u+12],yy:String(f).slice(2),yyyy:f,h:p%12||12,hh:a(p%12||12),H:p,HH:a(p),M:m,MM:a(m),s:g,ss:a(g),l:a(v,3),L:a(v>99?Math.round(v/10):v),t:p<12?"a":"p",tt:p<12?"am":"pm",T:p<12?"A":"P",TT:p<12?"AM":"PM",Z:s?"UTC":(String(o).match(t)||[""]).pop().replace(n,""),o:(y>0?"-":"+")+a(100*Math.floor(Math.abs(y)/60)+Math.abs(y)%60,4),S:["th","st","nd","rd"][c%10>3?0:(c%100-c%10!=10)*c%10]};return i.replace(e,function(e){return e in _?_[e]:e.slice(1,e.length-1)})}}();dateFormat.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},Date.prototype.format=function(e,t){return dateFormat(this,e,t)};var widget_uuid=0,widget_slice=Array.prototype.slice;$.cleanData=function(e){return function(t){var n,a,o;for(o=0;null!=(a=t[o]);o++)try{n=$._data(a,"events"),n&&n.remove&&$(a).triggerHandler("remove")}catch(e){}e(t)}}($.cleanData),$.widget=function(e,t,n){var a,o,i,s,r={},l=e.split(".")[0];return e=e.split(".")[1],a=l+"-"+e,n||(n=t,t=$.Widget),$.expr[":"][a.toLowerCase()]=function(e){return!!$.data(e,a)},$[l]=$[l]||{},o=$[l][e],i=$[l][e]=function(e,t){if(!this._createWidget)return new i(e,t);arguments.length&&this._createWidget(e,t)},$.extend(i,o,{version:n.version,_proto:$.extend({},n),_childConstructors:[]}),s=new t,s.options=$.widget.extend({},s.options),$.each(n,function(e,n){if(!$.isFunction(n))return void(r[e]=n);r[e]=function(){var a=function(){return t.prototype[e].apply(this,arguments)},o=function(n){return t.prototype[e].apply(this,n)};return function(){var e,t=this._super,i=this._superApply;return this._super=a,this._superApply=o,e=n.apply(this,arguments),this._super=t,this._superApply=i,e}}()}),i.prototype=$.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||e:e},r,{constructor:i,namespace:l,widgetName:e,widgetFullName:a}),o?($.each(o._childConstructors,function(e,t){var n=t.prototype;$.widget(n.namespace+"."+n.widgetName,i,t._proto)}),delete o._childConstructors):t._childConstructors.push(i),$.widget.bridge(e,i),i},$.widget.extend=function(e){for(var t,n,a=widget_slice.call(arguments,1),o=0,i=a.length;o<i;o++)for(t in a[o])n=a[o][t],a[o].hasOwnProperty(t)&&void 0!==n&&($.isPlainObject(n)?e[t]=$.isPlainObject(e[t])?$.widget.extend({},e[t],n):$.widget.extend({},n):e[t]=n);return e},$.widget.bridge=function(e,t){var n=t.prototype.widgetFullName||e;$.fn[e]=function(a){var o="string"==typeof a,i=widget_slice.call(arguments,1),s=this;return o?this.each(function(){var t,o=$.data(this,n);return"instance"===a?(s=o,!1):o?$.isFunction(o[a])&&"_"!==a.charAt(0)?(t=o[a].apply(o,i),t!==o&&void 0!==t?(s=t&&t.jquery?s.pushStack(t.get()):t,!1):void 0):$.error("no such method '"+a+"' for "+e+" widget instance"):$.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+a+"'")}):(i.length&&(a=$.widget.extend.apply(null,[a].concat(i))),this.each(function(){var e=$.data(this,n);e?(e.option(a||{}),e._init&&e._init()):$.data(this,n,new t(a,this))})),s}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=$(t||this.defaultElement||this)[0],this.element=$(t),this.uuid=widget_uuid++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),t!==this&&($.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=$(t.style?t.ownerDocument:t.document||t),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(e,t){var n,a,o,i=e;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof e)if(i={},n=e.split("."),e=n.shift(),n.length){for(a=i[e]=$.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)a[n[o]]=a[n[o]]||{},a=a[n[o]];if(e=n.pop(),1===arguments.length)return void 0===a[e]?null:a[e];a[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];i[e]=t}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,t,n){var a,o=this;"boolean"!=typeof e&&(n=t,t=e,e=!1),n?(t=a=$(t),this.bindings=this.bindings.add(t)):(n=t,t=this.element,a=this.widget()),$.each(n,function(n,i){function s(){if(e||!0!==o.options.disabled&&!$(this).hasClass("ui-state-disabled"))return("string"==typeof i?o[i]:i).apply(o,arguments)}"string"!=typeof i&&(s.guid=i.guid=i.guid||s.guid||$.guid++);var r=n.match(/^([\w:-]*)\s*(.*)$/),l=r[1]+o.eventNamespace,d=r[2];d?a.delegate(d,l,s):t.bind(l,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t),this.bindings=$(this.bindings.not(e).get()),this.focusable=$(this.focusable.not(e).get()),this.hoverable=$(this.hoverable.not(e).get())},_delay:function(e,t){function n(){return("string"==typeof e?a[e]:e).apply(a,arguments)}var a=this;return setTimeout(n,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){$(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){$(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){$(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){$(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,n){var a,o,i=this.options[e];if(n=n||{},t=$.Event(t),t.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],o=t.originalEvent)for(a in o)a in t||(t[a]=o[a]);return this.element.trigger(t,n),!($.isFunction(i)&&!1===i.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(e,t){$.Widget.prototype["_"+e]=function(n,a,o){"string"==typeof a&&(a={effect:a});var i,s=a?!0===a||"number"==typeof a?t:a.effect||t:e;a=a||{},"number"==typeof a&&(a={duration:a}),i=!$.isEmptyObject(a),a.complete=o,a.delay&&n.delay(a.delay),i&&$.effects&&$.effects.effect[s]?n[e](a):s!==e&&n[s]?n[s](a.duration,a.easing,o):n.queue(function(t){$(this)[e](),o&&o.call(n[0]),t()})}});var widget=$.widget;$.fn.reverse=Array.prototype.reverse,$.Metro={hotkeys:[],initWidgets:function(e){$.each(e,function(){var e=$(this);e.data("role").split(/\s*,\s*/).map(function(t){try{void 0!==$.fn[t]&&!0!==e.data(t+"-initiated")&&($.fn[t].call(e),e.data(t+"-initiated",!0))}catch(e){window.METRO_DEBUG&&console.log(e.message,e.stack)}})})},initHotkeys:function(e){$.each(e,function(){var e=$(this),t=e.data("hotkey").toLowerCase();!0!==e.data("hotKeyBonded")&&($.Metro.hotkeys.push(t),$(document).on("keyup",null,t,function(t){if(void 0!==e)return"A"===e[0].tagName&&void 0!==e.attr("href")&&""!==e.attr("href").trim()&&"#"!==e.attr("href").trim()?document.location.href=e.attr("href"):e.click(),!1}),e.data("hotKeyBonded",!0))})},init:function(){var e=$("[data-role]"),t=$("[data-hotkey]");$.Metro.initHotkeys(t),$.Metro.initWidgets(e);var n,a,o;a={childList:!0,subtree:!0},o=function(e){e.map(function(e){if(e.addedNodes)for(var t,n,a,o,i=0,s=e.addedNodes.length;i<s;i++)t=$(e.addedNodes[i]),a=t.find("[data-role]"),o=t.find("[data-hotkey]"),$.Metro.initHotkeys(o),n=void 0!==t.data("role")?$.merge(a,t):a,n.length&&$.Metro.initWidgets(n)})},n=new MutationObserver(o),n.observe(document,a)}};var utils={isColor:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},isUrl:function(e){return/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(this)},secondsToFormattedString:function(e){var t,n,a;return t=parseInt(e/3600)%24,n=parseInt(e/60)%60,a=e%60,(t?t+":":"")+(n<10?"0"+n:n)+":"+(a<10?"0"+a:a)},uniqueId:function(e){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})},isTouchDevice:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},arrayUnique:function(e){for(var t=e.concat(),n=0;n<t.length;++n)for(var a=n+1;a<t.length;++a)t[n]===t[a]&&t.splice(a--,1);return t},arrayClone:function(e){return e.slice(0)},arrayShuffle:function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),a-=1,t=e[a],e[a]=e[n],e[n]=t;return e},hex2rgba:function(e,t){var n;if(t=isNaN(t)?1:t,/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return n=e.substring(1).split(""),3==n.length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),n="0x"+n.join(""),"rgba("+[n>>16&255,n>>8&255,255&n].join(",")+","+t+")";throw new Error("Hex2rgba error. Bad Hex value")},random:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},isInt:function(e){return Number(e)===e&&e%1==0},isFloat:function(e){return Number(e)===e&&e%1!=0}};$.metroUtils=window.metroUtils=utils,$.easing.jswing=$.easing.swing,$.extend($.easing,{def:"easeOutQuad",swing:function(e,t,n,a,o){return $.easing[$.easing.def](e,t,n,a,o)},easeInQuad:function(e,t,n,a,o){return a*(t/=o)*t+n},easeOutQuad:function(e,t,n,a,o){return-a*(t/=o)*(t-2)+n},easeInOutQuad:function(e,t,n,a,o){return(t/=o/2)<1?a/2*t*t+n:-a/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,a,o){return a*(t/=o)*t*t+n},easeOutCubic:function(e,t,n,a,o){return a*((t=t/o-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,a,o){return(t/=o/2)<1?a/2*t*t*t+n:a/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,a,o){return a*(t/=o)*t*t*t+n},easeOutQuart:function(e,t,n,a,o){return-a*((t=t/o-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,a,o){return(t/=o/2)<1?a/2*t*t*t*t+n:-a/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,a,o){return a*(t/=o)*t*t*t*t+n},easeOutQuint:function(e,t,n,a,o){return a*((t=t/o-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,a,o){return(t/=o/2)<1?a/2*t*t*t*t*t+n:a/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,a,o){return-a*Math.cos(t/o*(Math.PI/2))+a+n},easeOutSine:function(e,t,n,a,o){return a*Math.sin(t/o*(Math.PI/2))+n},easeInOutSine:function(e,t,n,a,o){return-a/2*(Math.cos(Math.PI*t/o)-1)+n},easeInExpo:function(e,t,n,a,o){return 0==t?n:a*Math.pow(2,10*(t/o-1))+n},easeOutExpo:function(e,t,n,a,o){return t==o?n+a:a*(1-Math.pow(2,-10*t/o))+n},easeInOutExpo:function(e,t,n,a,o){return 0==t?n:t==o?n+a:(t/=o/2)<1?a/2*Math.pow(2,10*(t-1))+n:a/2*(2-Math.pow(2,-10*--t))+n},easeInCirc:function(e,t,n,a,o){return-a*(Math.sqrt(1-(t/=o)*t)-1)+n},easeOutCirc:function(e,t,n,a,o){return a*Math.sqrt(1-(t=t/o-1)*t)+n},easeInOutCirc:function(e,t,n,a,o){return(t/=o/2)<1?-a/2*(Math.sqrt(1-t*t)-1)+n:a/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,a,o){var i=1.70158,s=0,r=a;return 0==t?n:1==(t/=o)?n+a:(s||(s=.3*o),r<Math.abs(a)?(r=a,i=s/4):i=s/(2*Math.PI)*Math.asin(a/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t*o-i)*(2*Math.PI)/s)+n)},easeOutElastic:function(e,t,n,a,o){var i=1.70158,s=0,r=a;return 0==t?n:1==(t/=o)?n+a:(s||(s=.3*o),r<Math.abs(a)?(r=a,i=s/4):i=s/(2*Math.PI)*Math.asin(a/r),r*Math.pow(2,-10*t)*Math.sin((t*o-i)*(2*Math.PI)/s)+a+n)},easeInOutElastic:function(e,t,n,a,o){var i=1.70158,s=0,r=a;return 0==t?n:2==(t/=o/2)?n+a:(s||(s=o*(.3*1.5)),r<Math.abs(a)?(r=a,i=s/4):i=s/(2*Math.PI)*Math.asin(a/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*o-i)*(2*Math.PI)/s)*-.5+n:r*Math.pow(2,-10*(t-=1))*Math.sin((t*o-i)*(2*Math.PI)/s)*.5+a+n)},easeInBack:function(e,t,n,a,o,i){return void 0==i&&(i=1.70158),a*(t/=o)*t*((i+1)*t-i)+n},easeOutBack:function(e,t,n,a,o,i){return void 0==i&&(i=1.70158),a*((t=t/o-1)*t*((i+1)*t+i)+1)+n},easeInOutBack:function(e,t,n,a,o,i){return void 0==i&&(i=1.70158),(t/=o/2)<1?a/2*(t*t*((1+(i*=1.525))*t-i))+n:a/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+n},easeInBounce:function(e,t,n,a,o){return a-$.easing.easeOutBounce(e,o-t,0,a,o)+n},easeOutBounce:function(e,t,n,a,o){return(t/=o)<1/2.75?a*(7.5625*t*t)+n:t<2/2.75?a*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?a*(7.5625*(t-=2.25/2.75)*t+.9375)+n:a*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,a,o){return t<o/2?.5*$.easing.easeInBounce(e,2*t,0,a,o)+n:.5*$.easing.easeOutBounce(e,2*t-o,0,a,o)+.5*a+n}}),$.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},$.each(["keydown","keyup","keypress"],function(){$.event.special[this]={add:keyHandler}});var toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],lowestDelta,lowestDeltaXY;if($.event.fixHooks)for(var i=toFix.length;i;)$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;$.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=toBind.length;e;)this.addEventListener(toBind[--e],handler,!1);else this.onmousewheel=handler},teardown:function(){if(this.removeEventListener)for(var e=toBind.length;e;)this.removeEventListener(toBind[--e],handler,!1);else this.onmousewheel=null}},$.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}}),$.widget("metro.widget",{version:"1.0.0",options:{someValue:null},_create:function(){var e=this.element;this.options;this._setOptionsFromDOM(),e.data("widget",this)},_setOptionsFromDOM:function(){var e=this.element,t=this.options;$.each(e.data(),function(e,n){if(e in t)try{t[e]=$.parseJSON(n)}catch(a){t[e]=n}})},_destroy:function(){},_setOption:function(e,t){this._super("_setOption",e,t)}}),document.addEventListener("DOMContentLoaded",function(){preCode("pre code, textarea")},!1);var hasTouch="ontouchend"in window,eventTimer,moveDirection="undefined",startX,startY,deltaX,deltaY,mouseDown=!1,addTouchEvents=function(e){hasTouch&&(e.addEventListener("touchstart",touch2Mouse,!0),e.addEventListener("touchmove",touch2Mouse,!0),e.addEventListener("touchend",touch2Mouse,!0))},TemplateEngine=function(e,t){for(var n,a,o=/<%(.+?)%>/g,i=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,s="with(obj) { var r=[];\n",r=0,l=function(e,t){return s+=t?e.match(i)?e+"\n":"r.push("+e+");\n":""!=e?'r.push("'+e.replace(/"/g,'\\"')+'");\n':"",l};a=o.exec(e);)l(e.slice(r,a.index))(a[1],!0),r=a.index+a[0].length;l(e.substr(r,e.length-r)),s=(s+'return r.join(""); }').replace(/[\r\t\n]/g," ");try{n=new Function("obj",s).apply(t,[t])}catch(e){console.error("'"+e.message+"'"," in \n\nCode:\n",s,"\n")}return n};window.metroTemplate=TemplateEngine,$.Template=TemplateEngine,$.widget("metro.appbar",{version:"3.0.0",options:{flexstyle:"app-bar-menu",flexclean:!1,flextolerance:3},_create:function(){var e=this.element,t=this.options;$.each(e.data(),function(e,n){if(e in t)try{t[e]=$.parseJSON(n)}catch(a){t[e]=n}}),this._initBar(),e.data("appbar",this)},_calculateFreeSpace:function(){var e,t,n=this,a=(this.element,this.options,0),o=0;a=$(n.menusParent).width(),e=$(n.menusParent).children(":visible").not(".app-bar-pullmenu");for(var i=[],s=[],r=[],l=0,d=e.length;l<d;l++)switch($(e[l]).css("float")){case"left":i.push(e[l]);break;case"right":s.push(e[l]);break;default:r.push(e[l])}s.reverse(),e=new Array,e=i.concat(r,s),e=$(e),o+=parseInt($(e).first().css("margin-left"));for(var l=0,d=e.length-1;l<=d;l++)o+=$(e[l]).outerWidth(),l!==d&&(o+=Math.max(parseInt($(e[l]).css("margin-right")),parseInt($(e[l+1]).css("margin-left"))));return o+=parseInt($(e[d]).css("margin-right")),t=a-o,n.freeSpace=t,n.childrenWidth=o,n.menusParentWidth=a,t},_originIndexMove:function(e,t){var n=$(e).children().filter(function(){return parseInt($(this).attr("data-flexorderorigin"))<parseInt($(t).attr("data-flexorderorigin"))});n.length>0?$(n).last().after(t):(n=$(e).children().filter(function(){return parseInt($(this).attr("data-flexorderorigin"))>parseInt($(t).attr("data-flexorderorigin"))}),n.length>0?$(n).first().before(t):$(e).append(t))},_moveMenuEntry:function(e){var t=this;this.element,this.options;if("toPullMenu"===(e=e||"toPullMenu")){var n=$(t.allMenuEntries).not(".app-bar-pullmenu-entry").last();if(0===n.length)return!1;var a=$(n).parent(),o=$(t.flexVisibles).index($(n).parent()),i=$(t.pullMenu).find(".app-bar-pullmenubar").eq(o);return t._originIndexMove(i,n),$(n).addClass("app-bar-pullmenu-entry"),$(i).removeClass("hidden").show(),0===$(a).children().length&&$(a).addClass("hidden"),$(t.pullButton).show(),n}if("fromPullMenu"===e){var s=$(t.allMenuEntries).filter(".app-bar-pullmenu-entry").first(),i=$(s).parent(),o=$(i).index(),a=$(t.flexVisibles).eq(o);return $(a).removeClass("hidden"),$(s).removeClass("app-bar-pullmenu-entry"),t._originIndexMove(a,s),0===$(i).children().length&&$(i).addClass("hidden").hide(),0===$(t.pullMenu).children(".app-bar-pullmenubar").not(".hidden").length&&($(t.pullMenu).hide().addClass("hidden"),$(t.pullButton).hide()),0!==s.length&&s}},_checkMenuEntries:function(){for(var e=this,t=(this.element,this.options),n=!1,a=0,o=e.allMenuEntries.length;a<o;a++){e._calculateFreeSpace();if(!(e.freeSpace<t.flextolerance||t.flexclean)){if(e._moveMenuEntry("fromPullMenu")){n=!0;continue}break}if(!e._moveMenuEntry("toPullMenu"))break;if(n)break}},resize:function(){var e=this;this.element,this.options;e.initiatedAsFlex&&this._checkMenuEntries()},_initBar:function(){var e=this,t=this.element,n=this.options;e.lastFlexAction=void 0,e.pullButton=$(t).find(".app-bar-pullbutton");var a=$(t).find(".app-bar-menu");e.initiatedAsFlex=!1,n.flexclean=$(t).is("[data-flexclean='true']")||n.flexclean,n.flexstyle=$(t).attr("data-flexstyle")||n.flexstyle;var o,i;e.flexVisibles=$(),e.allMenuEntries=$(),e.menusParent=$(),e.pullMenu=$(),a.length>0&&$(t).is(":not('.no-flexible')")&&(e.flexVisibles=$(a).not(".no-flexible"),e.flexVisibles.length>0&&(e.initiatedAsFlex=!0,e.flexVisibles.sort(function(e,t){return(parseInt($(e).data("flexorder"))||$(e).index()+1)-(parseInt($(t).data("flexorder"))||$(t).index()+1)}),$(e.flexVisibles).each(function(){o=this,i=$(o).children(),$(i).each(function(){$(this).attr("data-flexorderorigin",$(this).index()),$(this).is("[data-flexorder]")||$(this).attr("data-flexorder",$(this).index()+1)}),i.sort(function(e,t){return parseInt($(e).data("flexorder"))-parseInt($(t).data("flexorder"))}),$(o).is("[data-flexdirection='reverse']")&&i.reverse(),$.merge(e.allMenuEntries,$(i).not(".no-flexible"))}),e.menusParent=$(t).find(".app-bar-menu").first().parent(),e.pullButton.length>0||(e.pullButton=$('<div class="app-bar-pullbutton automatic"></div>'),$(e.menusParent).append(e.pullButton)),e.pullMenu=$('<nav class="app-bar-pullmenu hidden" />'),e.flexVisibles.each(function(){$(e.pullMenu).append($('<ul class="app-bar-pullmenubar hidden '+n.flexstyle+'" />'))}),$(e.menusParent).append($('<div class="clearfix" style="width: 0;">')),$(e.pullMenu).addClass("flexstyle-"+n.flexstyle),$(e.menusParent).append(e.pullMenu),e._checkMenuEntries(),$(e.pullButton).on("click",function(){e=$(this).closest("[data-role=appbar]").data("appbar"),$(e.pullMenu).is(":hidden")?($(e.pullMenu).show(),$(e.pullMenu).find(".app-bar-pullmenubar").hide().not(".hidden").slideDown("fast")):$(e.pullMenu).find(".app-bar-pullmenubar").not(".hidden").show().slideUp("fast",function(){$(e.pullMenu).hide()})})))},_destroy:function(){},_setOption:function(e,t){this._super("_setOption",e,t)}}),$(window).on("resize",function(){
$("[data-role=appbar]:not(.no-flexible)").each(function(){$(this).data("appbar").resize()})}),$(window).on("load",function(){$("[data-role=appbar]:not(.no-flexible)").each(function(){$(this).data("appbar").resize()})}),$("[data-role=appbar]:not(.no-flexible) [src]").on("load",function(){$(this).closest("[data-role=appbar]").data("appbar").resize()}),$.widget("metro.calendar",{version:"3.0.0",options:{format:"yyyy-mm-dd",multiSelect:!1,startMode:"day",weekStart:window.METRO_CALENDAR_WEEK_START,otherDays:!0,date:new Date,minDate:!1,maxDate:!1,preset:!1,exclude:!1,stored:!1,buttons:!0,buttonToday:!0,buttonClear:!0,syncCalenderToDateField:!0,locale:window.METRO_CURRENT_LOCALE,actions:!0,condensedGrid:!1,scheme:"default",getDates:function(e){},dayClick:function(e,t){}},_year:0,_month:0,_day:0,_today:new Date,_event:"",_mode:"day",_distance:0,_events:[],_create:function(){var e=this,t=this.element,n=this.options;$.each(t.data(),function(e,t){if(e in n)try{n[e]=$.parseJSON(t)}catch(a){n[e]=t}}),"string"==typeof n.date&&(n.date=new Date(n.date)),!1!==n.minDate&&"string"==typeof n.minDate&&(n.minDate=new Date(n.minDate+"T00:00:00Z")-864e5),!1!==n.maxDate&&"string"==typeof n.maxDate&&(n.maxDate=new Date(n.maxDate+"T00:00:00Z")),this.locales=window.METRO_LOCALES,this._year=n.date.getFullYear(),this._distance=n.date.getFullYear()-4,this._month=n.date.getMonth(),this._day=n.date.getDate(),this._mode=n.startMode,t.data("_storage",[]),t.data("_exclude",[]),t.data("_stored",[]),t.hasClass("calendar")||t.addClass("calendar");var a,o;n.preset&&(a=/\s*,\s*/,o=n.preset.split(a),$.each(o,function(){void 0!==new Date(this)&&e.setDate(this)})),n.exclude&&(a=/\s*,\s*/,o=n.exclude.split(a),$.each(o,function(){void 0!==new Date(this)&&e.setDateExclude(this)})),n.stored&&(a=/\s*,\s*/,o=n.stored.split(a),$.each(o,function(){void 0!==new Date(this)&&e.setDateStored(this)})),"default"!==n.scheme&&t.addClass(n.scheme),this._renderCalendar(),t.data("calendar",this)},_renderButtons:function(e){var t,n,a=this.options;if(this.options.buttons){var o=a.buttonToday?"<button class='button calendar-btn-today small-button success'>"+this.locales[a.locale].buttons[0]+"</button>":"",i=a.buttonClear?"<button class='button calendar-btn-clear small-button warning'>"+this.locales[a.locale].buttons[1]+"</button>":"";t=$("<div/>").addClass("calendar-row calendar-actions"),n=$("<div/>").addClass("align-center").html(o+i),n.appendTo(t),t.appendTo(e)}},_renderMonth:function(){var e=this.options,t=this._year,n=this._month,a=(this._day,this._event,28);1===n&&(t%100!=0&&t%4==0||t%400==0)&&(a=29);var o,i,s,r,l,d=[31,a,31,30,31,30,31,31,30,31,30,31],c=d[n],h=this._dateFromNumbers(t,n+1,1).getDay();this.element.html(""),o=$("<div/>").addClass("calendar-grid"),e.condensedGrid&&o.addClass("condensed no-border"),i=$("<div/>").addClass("calendar-row no-margin"),$("<div/>").addClass("calendar-cell align-center").html("<a class='btn-previous-year' href='#'>-</a>").appendTo(i),$("<div/>").addClass("calendar-cell align-center").html("<a class='btn-previous-month' href='#'>&#12296;</a>").appendTo(i),$("<div/>").addClass("calendar-cell sel-month align-center").html("<a class='btn-select-month' href='#'>"+this.locales[e.locale].months[n+12]+" "+t+"</a>").appendTo(i),$("<div/>").addClass("calendar-cell align-center").html("<a class='btn-next-month' href='#'>&#12297;</a>").appendTo(i),$("<div/>").addClass("calendar-cell align-center").html("<a class='btn-next-year' href='#'>+</a>").appendTo(i),i.addClass("calendar-header").appendTo(o);var u;for(i=$("<div/>").addClass("calendar-row week-days"),r=0;r<7;r++)e.weekStart?(u=r+1,7===u&&(u=0),s=$("<div/>").addClass("calendar-cell align-center day-of-week").appendTo(i),l=$("<div/>").html(this.locales[e.locale].days[u+7]).appendTo(s)):(s=$("<div/>").addClass("calendar-cell align-center day-of-week").appendTo(i),l=$("<div/>").html(this.locales[e.locale].days[r+7]).appendTo(s));i.addClass("calendar-subheader").appendTo(o);var f=this._month-1;f<0&&(f=11);var p=d[f],m=(e.weekStart?h+6:h)%7,g="";for(i=$("<div/>").addClass("calendar-row"),r=0;r<m;r++)e.otherDays&&(g=p-(m-r-1)),s=$("<div/>").addClass("calendar-cell empty").appendTo(i),l=$("<div/>").addClass("other-day").html(g).appendTo(s),e.otherDays||l.css("visibility","hidden");var v,y,_,b=(e.weekStart?h+6:h)%7;for(r=1;r<=c;r++)b%=7,0===b&&(i.appendTo(o),i=$("<div/>").addClass("calendar-row")),s=$("<div/>").addClass("calendar-cell align-center day"),l=$("<div/>").appendTo(s),!1!==e.minDate&&this._dateFromNumbers(t,n+1,r)<e.minDate||!1!==e.maxDate&&this._dateFromNumbers(t,n+1,r)>e.maxDate?(s.removeClass("day"),l.addClass("other-day"),_=r):_="<a href='#'>"+r+"</a>",l.html(_),t===this._today.getFullYear()&&n===this._today.getMonth()&&this._today.getDate()===r&&s.addClass("today"),v=this._dateNumberStringyFy(this._year,this._month+1,r),this.element.data("_storage").indexOf(v)>=0&&(y=s.find("a"),y.parent().parent().addClass("selected")),this.element.data("_exclude").indexOf(v)>=0&&(y=s.find("a"),y.parent().parent().addClass("exclude")),this.element.data("_stored").indexOf(v)>=0&&(y=s.find("a"),y.parent().parent().addClass("stored")),s.appendTo(i),b++;var w="";for(r=b+1;r<=7;r++)e.otherDays&&(w=r-b),s=$("<div/>").addClass("calendar-cell empty").appendTo(i),l=$("<div/>").addClass("other-day").html(w).appendTo(s),e.otherDays||l.css("visibility","hidden");i.appendTo(o),this._renderButtons(o),o.appendTo(this.element)},_renderMonths:function(){var e,t,n,a,o;for(this.element.html(""),e=$("<div/>").addClass("calendar-grid"),this.options.condensedGrid&&e.addClass("condensed no-border"),t=$("<div/>").addClass("calendar-row"),$("<div/>").addClass("calendar-cell sel-minus align-center").html("<a class='btn-previous-year' href='#'>-</a>").appendTo(t),$("<div/>").addClass("calendar-cell sel-year align-center").html("<a class='btn-select-year' href='#'>"+this._year+"</a>").appendTo(t),$("<div/>").addClass("calendar-cell sel-plus align-center").html("<a class='btn-next-year' href='#'>+</a>").appendTo(t),t.addClass("calendar-header").appendTo(e),t=$("<div/>").addClass("calendar-row"),o=0,a=0;a<12;a++)n=$("<div/>").addClass("calendar-cell month-cell align-center month").html("<a href='#' data-month='"+a+"'>"+this.locales[this.options.locale].months[a+12]+"</a>"),this._month===a&&(new Date).getFullYear()===this._year&&n.addClass("today"),n.appendTo(t),(o+1)%4==0&&(t.appendTo(e),t=$("<div/>").addClass("calendar-row")),o+=1;this._renderButtons(e),e.appendTo(this.element)},_renderYears:function(){var e,t,n,a,o;for(this.element.html(""),e=$("<div/>").addClass("calendar-grid"),this.options.condensedGrid&&e.addClass("condensed no-border"),t=$("<div/>").addClass("calendar-row cells4"),$("<div/>").addClass("calendar-cell sel-minus align-center").html("<a class='btn-previous-year' href='#'>-</a>").appendTo(t),$("<div/>").addClass("calendar-cell sel-year align-center").html("<a class='btn-none-btn'>"+this._distance+"-"+(this._distance+11)+"</a>").appendTo(t),$("<div/>").addClass("calendar-cell sel-plus align-center").html("<a class='btn-next-year' href='#'>+</a>").appendTo(t),t.addClass("calendar-header").appendTo(e),t=$("<div/>").addClass("calendar-row"),o=0,a=this._distance;a<this._distance+12;a++)n=$("<div/>").addClass("calendar-cell year-cell align-center year").html("<a href='#' data-year='"+a+"'>"+a+"</a>"),(new Date).getFullYear()===a&&n.addClass("today"),n.appendTo(t),(o+1)%4==0&&(t.appendTo(e),t=$("<div/>").addClass("calendar-row")),o+=1;this._renderButtons(e),e.appendTo(this.element)},_renderCalendar:function(){switch(this._mode){case"year":this._renderYears();break;case"month":this._renderMonths();break;default:this._renderMonth()}this._initButtons()},_initButtons:function(){var that=this,o=this.options,table=this.element.find(".calendar-grid");"day"===this._mode?(table.find(".btn-select-month").off("click").on("click",function(e){e.preventDefault(),e.stopPropagation(),that._mode="month",that._renderCalendar()}),table.find(".btn-previous-month").off("click").on("click",function(e){that._event="eventPrevious",e.preventDefault(),e.stopPropagation(),that._month-=1,that._month<0&&(that._year-=1,that._month=11),that._renderCalendar()}),table.find(".btn-next-month").off("click").on("click",function(e){that._event="eventNext",e.preventDefault(),e.stopPropagation(),that._month+=1,12===that._month&&(that._year+=1,that._month=0),that._renderCalendar()}),table.find(".btn-previous-year").off("click").on("click",function(e){that._event="eventPrevious",e.preventDefault(),e.stopPropagation(),that._year-=1,that._renderCalendar()}),table.find(".btn-next-year").off("click").on("click",function(e){that._event="eventNext",e.preventDefault(),e.stopPropagation(),that._year+=1,that._renderCalendar()}),table.find(".day a").on("click",function(e){if(e.preventDefault(),e.stopPropagation(),$(this).parent().parent().hasClass("exclude"))return!1;var d=new Date(that._paddy(that._year,4),that._paddy(that._month,2),that._paddy(parseInt($(this).html()),2)).format(that.options.format,null),d0=new Date(that._paddy(that._year,4),that._paddy(that._month,2),that._paddy(parseInt($(this).html()),2));if(that.options.multiSelect?($(this).parent().parent().toggleClass("selected"),$(this).parent().parent().hasClass("selected")?that._addDate(that._dateStringyFy(d0)):that._removeDate(that._dateStringyFy(d0))):(table.find(".day a").parent().parent().removeClass("selected"),$(this).parent().parent().addClass("selected"),that.element.data("_storage",[]),that._addDate(that._dateStringyFy(d0))),"function"==typeof o.dayClick)o.dayClick(d,d0);else if("function"==typeof window[o.dayClick])window[o.dayClick](d,d0);else{var result=eval("(function(){"+o.dayClick+"})");result.call(d,d0)}})):"month"===this._mode?(table.find(".month a").off("click").on("click",function(e){that._event="eventNext",e.preventDefault(),e.stopPropagation(),that._month=parseInt($(this).data("month")),that._mode="day",that._renderCalendar()}),table.find(".btn-previous-year").off("click").on("click",function(e){that._event="eventPrevious",e.preventDefault(),e.stopPropagation(),that._year-=1,that._renderCalendar()}),table.find(".btn-next-year").off("click").on("click",function(e){that._event="eventNext",e.preventDefault(),e.stopPropagation(),that._year+=1,that._renderCalendar()}),table.find(".btn-select-year").off("click").on("click",function(e){that._event="eventNext",e.preventDefault(),e.stopPropagation(),that._mode="year",that._renderCalendar()})):(table.find(".year a").off("click").on("click",function(e){that._event="eventNext",e.preventDefault(),e.stopPropagation(),that._year=parseInt($(this).data("year")),that._mode="month",that._renderCalendar()}),table.find(".btn-previous-year").off("click").on("click",function(e){that._event="eventPrevious",e.preventDefault(),e.stopPropagation(),that._distance-=10,that._renderCalendar()}),table.find(".btn-next-year").off("click").on("click",function(e){that._event="eventNext",e.preventDefault(),e.stopPropagation(),that._distance+=10,that._renderCalendar()})),table.find(".calendar-btn-today").off("click").on("click",function(e){e.preventDefault(),e.stopPropagation(),that._mode=that.options.startMode,that.options.date=new Date,that._year=that.options.date.getFullYear(),that._month=that.options.date.getMonth(),that._day=that.options.date.getDate(),that._renderCalendar()}),table.find(".calendar-btn-clear").off("click").on("click",function(e){e.preventDefault(),e.stopPropagation(),that.options.date=new Date,that._year=that.options.date.getFullYear(),that._month=that.options.date.getMonth(),that._day=that.options.date.getDate(),that.element.data("_storage",[]),that._renderCalendar()})},_addDate:function(e){this.element.data("_storage").indexOf(e)<0&&this.element.data("_storage").push(e)},_removeDate:function(e){var t=this.element.data("_storage").indexOf(e);this.element.data("_storage").splice(t,1)},_addDateExclude:function(e){this.element.data("_exclude").indexOf(e)<0&&this.element.data("_exclude").push(e)},_addDateStored:function(e){this.element.data("_stored").indexOf(e)<0&&this.element.data("_stored").push(e)},_removeDateExclude:function(e){var t=this.element.data("_exclude").indexOf(e);this.element.data("_exclude").splice(t,1)},_removeDateStored:function(e){var t=this.element.data("_stored").indexOf(e);this.element.data("_stored").splice(t,1)},_paddy:function(e,t,n){var a=void 0!==n?n:"0",o=new Array(1+t).join(a);return(o+e).slice(-o.length)},_dateFromNumbers:function(e,t,n){return new Date(this._paddy(e,4)+"/"+this._paddy(t,2)+"/"+this._paddy(n,2))},_dateNumberStringyFy:function(e,t,n){return this._dateFromNumbers(e,t,n).format("yyyy-mm-dd")},_dateStringyFy:function(e){return this._dateNumberStringyFy(e.getFullYear(),e.getMonth()+1,e.getDate())},setDate:function(e){var t;e=new Date(e),t=this._dateNumberStringyFy(e.getFullYear(),e.getMonth()+1,e.getDate()),this._addDate(t),this.options.syncCalenderToDateField&&(this._year=e.getFullYear(),this._month=e.getMonth(),this._day=e.getDate()),this._renderCalendar()},setDateExclude:function(e){var t;e=new Date(e),t=this._dateNumberStringyFy(e.getFullYear(),e.getMonth()+1,e.getDate()),this._addDateExclude(t),this._renderCalendar()},setDateStored:function(e){var t;e=new Date(e),t=this._dateNumberStringyFy(e.getFullYear(),e.getMonth()+1,e.getDate()),this._addDateStored(t),this._renderCalendar()},getDate:function(e){return new Date(void 0!==e?this.element.data("_storage")[e]:this.element.data("_storage")[0]).format(this.options.format)},getDates:function(){var e;return e=$.merge($.merge([],this.element.data("_storage")),this.element.data("_stored")),e.unique()},unsetDate:function(e){var t;e=new Date(e),t=this._dateNumberStringyFy(e.getFullYear(),e.getMonth()+1,e.getDate()),this._removeDate(t),this._renderCalendar()},unsetDateExclude:function(e){var t;e=new Date(e),t=this._dateNumberStringyFy(e.getFullYear(),e.getMonth()+1,e.getDate()),this._removeDateExclude(t),this._renderCalendar()},unsetDateStored:function(e){var t;e=new Date(e),t=this._dateNumberStringyFy(e.getFullYear(),e.getMonth()+1,e.getDate()),this._removeDateStored(t),this._renderCalendar()},_destroy:function(){},_setOption:function(e,t){this._super("_setOption",e,t)}}),$.widget("metro.datepicker",{version:"3.0.14",options:{format:"yyyy.mm.dd",preset:!1,minDate:!1,maxDate:!1,effect:"fade",position:"bottom",locale:window.METRO_CURRENT_LOCALE,weekStart:window.METRO_CALENDAR_WEEK_START,otherDays:!1,exclude:!1,stored:!1,buttons:!1,buttonToday:!0,buttonClear:!0,condensedGrid:!1,scheme:"default",onSelect:function(e,t){}},_calendar:void 0,_create:function(){var e=this,t=this.element,n=this.options,a=t.children("input"),o=t.children("button");$.each(t.data(),function(e,t){if(e in n)try{n[e]=$.parseJSON(t)}catch(a){n[e]=t}}),this._createCalendar(),a.attr("readonly",!0),o.attr("type","button"),o.on("click",function(t){t.stopPropagation(),"none"===e._calendar.css("display")?e._show():e._hide()}),t.on("click",function(t){t.stopPropagation(),"none"===e._calendar.css("display")?e._show():e._hide()}),$("html").on("click",function(){$(".calendar-dropdown").hide()}),t.data("datepicker",this)},_createCalendar:function(){var _calendar,that=this,element=this.element,o=this.options;switch(_calendar=$("<div/>").css({position:"absolute",display:"none","max-width":220,"z-index":1e3}).addClass("calendar calendar-dropdown").appendTo(element),_calendar.calendar({multiSelect:!1,format:o.format,buttons:!1,buttonToday:!1,buttonClear:!1,locale:o.locale,otherDays:o.otherDays,weekStart:o.weekStart,condensedGrid:o.condensedGrid,exclude:o.exclude,stored:o.stored,date:o.preset?o.preset:new Date,minDate:o.minDate,maxDate:o.maxDate,scheme:o.scheme,dayClick:function(d,d0){if(_calendar.calendar("setDate",d0),that.element.children("input[type=text]").val(d),that.element.children("input[type=text]").trigger("change",d0),that.element.children("input[type=text]").blur(),that._hide(),"function"==typeof o.onSelect)o.onSelect(d,d0);else if("function"==typeof window[o.onSelect])window[o.onSelect](d,d0);else{var result=eval("(function(){"+o.onSelect+"})");result.call(d,d0)}}}),!1!==o.preset&&(_calendar.calendar("setDate",o.preset),element.find("input, .datepicker-output").val(_calendar.calendar("getDate"))),this.options.position){case"top":_calendar.css({top:0-_calendar.height(),left:0});break;default:_calendar.css({top:"100%",left:0})}this._calendar=_calendar},_show:function(){"slide"===this.options.effect?($(".calendar-dropdown").slideUp("fast"),this._calendar.slideDown("fast")):"fade"===this.options.effect?($(".calendar-dropdown").fadeOut("fast"),this._calendar.fadeIn("fast")):($(".calendar-dropdown").hide(),this._calendar.show())},_hide:function(){"slide"===this.options.effect?this._calendar.slideUp("fast"):"fade"===this.options.effect?this._calendar.fadeOut("fast"):this._calendar.hide()},_destroy:function(){},_setOption:function(e,t){this._super("_setOption",e,t)},setDate:function(e){$.isArray(e);var t=this.element.find("input");this._calendar.data("metro-calendar").element.data("_storage",[]),this._calendar.calendar("setDate",e),e=this._calendar.calendar("getDate"),t.val(e)}}),$.widget("metro.dialog",{version:"3.0.14",options:{modal:!1,overlay:!1,overlayColor:"default",overlayClickClose:!1,type:"default",place:"center",position:"default",content:!1,hide:!1,width:"auto",height:"auto",background:"default",color:"default",closeButton:!1,windowsStyle:!1,show:!1,href:!1,contentType:"default",closeAction:!0,closeElement:".js-dialog-close",onDialogOpen:function(e){},onDialogClose:function(e){}},_create:function(){var e=this,t=this.element,n=this.options;$.each(t.data(),function(e,t){if(e in n)try{n[e]=$.parseJSON(t)}catch(a){n[e]=t}}),this._interval=void 0,this._overlay=void 0,n.overlay&&this._createOverlay(),this._createDialog(),!0===n.closeAction&&t.on("click",".js-dialog-close"+n.closeElement,function(){e.close()}),t.appendTo($("body")),t.data("dialog",this),n.show&&this.open()},_createOverlay:function(){var e=(this.element,this.options),t=$("body").find(".dialog-overlay");0===t.length&&(t=$("<div/>").addClass("dialog-overlay")),e.overlayColor&&(metroUtils.isColor(e.overlayColor)?t.css({background:e.overlayColor}):t.addClass(e.overlayColor)),this._overlay=t},_createDialog:function(){var e=this,t=this.element,n=this.options;t.addClass("dialog"),"default"!==n.type&&t.addClass(n.type),n.windowsStyle&&(n.width="auto",t.css({left:0,right:0})),"default"!==n.background&&(metroUtils.isColor(n.background)?t.css({background:n.background}):t.addClass(n.background)),"default"!==n.color&&(metroUtils.isColor(n.color)?t.css({color:n.color}):t.addClass(n.color)),t.css({width:n.width,height:n.height}),n.closeButton&&$("<span/>").addClass("dialog-close-button").appendTo(t).on("click",function(){e.close()}),this._hide()},_hide:function(){var e=this.element,t=this.options;e.css({visibility:"hidden"}),!0===t.removeOnClose&&e.remove()},_show:function(){var e=this.element;this.options;this._setContent(),e.css({visibility:"visible"})},_setPosition:function(){var e=this.element,t=this.options,n=e.outerWidth(),a=e.outerHeight();switch(t.place){case"top-left":e.css({left:0,top:0});break;case"top-right":e.css({right:0,top:0});break;case"top-center":e.css({left:($(window).width()-n)/2,top:0});break;case"bottom-left":e.css({left:0,bottom:0});break;case"bottom-right":e.css({right:0,bottom:0});break;case"center-left":e.css({left:0,top:($(window).height()-a)/2});break;case"center-right":e.css({right:0,top:($(window).height()-a)/2});break;case"bottom-center":e.css({left:($(window).width()-n)/2,bottom:0});break;default:e.css({left:!1===t.windowsStyle?($(window).width()-n)/2:0,top:($(window).height()-a)/2})}},_setContent:function(){var e=this,t=this.element,n=this.options,a=$("<div>").addClass("set-dialog-content");if("video"===n.contentType&&a.addClass("video-container"),!1===n.content&&!1===n.href)return!1;t.children(":not(.dialog-close-button)").remove(),a.appendTo(t),n.content&&(n.content instanceof jQuery?n.content.appendTo(a):a.html(n.content),this._setPosition()),n.href&&$.get(n.href,function(t){a.html(t),e._setPosition()})},setContent:function(e){this.options.contentType="default",this.options.href=!1,this.options.content=e,this._setContent()},setContentHref:function(e){this.options.contentType="href",this.options.content=!1,this.options.href=e,this._setContent()},setContentVideo:function(e){this.options.contentType="video",this.options.content=e,this.options.href=!1,this._setContent()},toggle:function(){this.element.data("opened")?this.close():this.open()},open:function(){var that=this,element=this.element,o=this.options,overlay;if(this._setPosition(),element.data("opened",!0),o.overlay&&(overlay=this._overlay,overlay.appendTo("body").show(),o.overlayClickClose&&overlay.on("click",function(){that.close()})),this._show(),"function"==typeof o.onDialogOpen)o.onDialogOpen(element);else if("function"==typeof window[o.onDialogOpen])window[o.onDialogOpen](element);else{var result=eval("(function(){"+o.onDialogOpen+"})");result.call(element)}o.hide&&parseInt(o.hide)>0&&(this._interval=setTimeout(function(){that.close()},parseInt(o.hide)))},close:function(){var that=this,element=this.element,o=this.options;if(clearInterval(this._interval),o.overlay&&$("body").find(".dialog-overlay").remove(),element.data("opened",!1),this._hide(),"function"==typeof o.onDialogClose)o.onDialogClose(element);else if("function"==typeof window[o.onDialogClose])window[o.onDialogClose](element);else{var result=eval("(function(){"+o.onDialogClose+"})");result.call(element)}},reset:function(e){void 0!==e&&(this.options.place=e),this._setPosition()},_destroy:function(){},_setOption:function(e,t){this._super("_setOption",e,t)}});var dialog={open:function(e,t,n,a){var o,i=$(e);if(0==i.length)return console.log("Dialog "+e+" not found!"),!1;if(void 0==(o=i.data("dialog")))return console.log('Element not contain role dialog! Please add attribute data-role="dialog" to element '+e),!1;if(void 0!=n)switch(a){case"href":o.setContentHref(n);break;case"video":o.setContentVideo(n);break;default:o.setContent(n)}void 0!==t&&(o.options.place=t),o.open()},close:function(e){var t,n=$(e);return 0==n.length?(console.log("Dialog "+e+" not found!"),!1):void 0==(t=n.data("dialog"))?(console.log('Element not contain role dialog! Please add attribute data-role="dialog" to element '+e),!1):void t.close()},toggle:function(e,t,n,a){var o,i=$(e);if(0==i.length)return console.log("Dialog "+e+" not found!"),!1;if(void 0==(o=i.data("dialog")))return console.log('Element not contain role dialog! Please add attribute data-role="dialog" to element '+e),!1;if(void 0!=n)switch(a){case"href":o.setContentHref(n);break;case"video":o.setContentVideo(n);break;default:o.setContent(n)}!0===o.element.data("opened")?o.close():(void 0!==t&&(o.options.place=t),o.open())},create:function(data){var dlg,id,html,buttons,button;id="dialog_id_"+(new Date).getTime(),dlg=$("<div id='"+id+"' class='dialog dialog-ex'></div>"),void 0!==data.title&&$("<div class='dialog-title'>"+data.title+"</div>").appendTo(dlg),void 0!==data.content&&$("<div class='dialog-content'>"+data.content+"</div>").appendTo(dlg),void 0!==data.actions&&"object"==typeof data.actions&&(buttons=$("<div class='dialog-actions'></div>").appendTo(dlg),$.each(data.actions,function(){var item=this;button=$("<button>").attr("type","button").addClass("button").html(item.title),void 0!==item.cls&&button.addClass(item.cls),button.appendTo(buttons),void 0!=item.onclick&&button[0].addEventListener("click",function(){if("function"==typeof item.onclick)item.onclick(dlg);else if("function"==typeof window[item.onclick])window[item.onclick](dlg);else{var result=eval("(function(){"+item.onclick+"})");result.call(dlg)}},!0)})),dlg.appendTo($("body"));var dlg_options=$.extend({},{show:!0,closeAction:!0,removeOnClose:!0},void 0!=data.options?data.options:{});return dlg.dialog(dlg_options)}};window.metroDialog=dialog,$.Dialog=function(e){return dialog.create(e)},$(window).on("resize",function(){var e=$(".dialog");$.each(e,function(){var e=$(this).data("dialog");!0===e.element.data("opened")&&e.reset()})}),$.widget("metro.dropdown",{version:"3.0.0",options:{effect:window.METRO_SHOW_TYPE,toggleElement:!1,noClose:!1,onDrop:function(e){},onUp:function(e){}},_create:function(){var e,t=this,n=this.element,a=this.options,o=this.element,i=this.name,s=this.element.parent();$.each(n.data(),function(e,t){if(e in a)try{a[e]=$.parseJSON(t)}catch(n){a[e]=t}}),e=a.toggleElement?$(a.toggleElement):s.children(".dropdown-toggle").length>0?s.children(".dropdown-toggle"):s.children("a:nth-child(1)"),void 0!==METRO_SHOW_TYPE&&(this.options.effect=METRO_SHOW_TYPE),e.on("click."+i,function(e){if(s.siblings(s[0].tagName).removeClass("active-container"),$(".active-container").removeClass("active-container"),"block"!==o.css("display")||o.hasClass("keep-open")){if($("[data-role=dropdown]").each(function(e,n){o.parents("[data-role=dropdown]").is(n)||$(n).hasClass("keep-open")||"block"!==$(n).css("display")||t._close(n)}),o.hasClass("horizontal")){o.css({visibility:"hidden",display:"block"});var n=$(o.children("li")[0]).outerWidth();o.css({visibility:"visible",display:"none"});var a=o.children("li").length*n+(o.children("li").length-1);o.css("width",a)}t._open(o),s.addClass("active-container")}else t._close(o);e.preventDefault(),e.stopPropagation()}),!0===a.noClose&&n.on("click",function(e){e.stopPropagation()}),$(o).find("li.disabled a").on("click",function(e){e.preventDefault()}),n.data("dropdown",this)},_open:function(el){var parent=this.element.parent(),o=this.options,toggle=o.toggleElement?$(o.toggleElement):parent.children(".dropdown-toggle").length>0?parent.children(".dropdown-toggle"):parent.children("a:nth-child(1)");switch(this.options.effect){case"fade":$(el).fadeIn("fast");break;case"slide":$(el).slideDown("fast");break;default:$(el).show()}if(this._trigger("onOpen",null,el),toggle.addClass("active-toggle"),"function"==typeof o.onDrop)o.onDrop(el);else if("function"==typeof window[o.onDrop])window[o.onDrop](el);else{var result=eval("(function(){"+o.onDrop+"})");result.call(el)}},_close:function(el){var parent=$(el).parent(),o=this.options,toggle=o.toggleElement?$(o.toggleElement):parent.children(".dropdown-toggle").length>0?parent.children(".dropdown-toggle"):parent.children("a:nth-child(1)");switch(this.options.effect){case"fade":$(el).fadeOut("fast");break;case"slide":$(el).slideUp("fast");break;default:$(el).hide()}if(this._trigger("onClose",null,el),toggle.removeClass("active-toggle"),"function"==typeof o.onUp)o.onUp(el);else if("function"==typeof window[o.onUp])window[o.onUp](el);else{var result=eval("(function(){"+o.onUp+"})");result.call(el)}},_destroy:function(){},_setOption:function(e,t){this._super("_setOption",e,t)}}),$(document).on("click",function(e){$("[data-role=dropdown]").each(function(e,t){if(!$(t).hasClass("keep-open")&&"block"===$(t).css("display")){$(t).data("dropdown")._close(t)}})}),$.widget("metro.hint",{version:"3.0.0",options:{hintPosition:"auto",hintBackground:"#FFFCC0",hintColor:"#000000",hintMaxSize:200,hintMode:"default",hintShadow:!1,hintBorder:!0,hintTimeout:0,hintTimeDelay:0,_hint:void 0},_create:function(){var e=this,t=(this.element,this.options);this.element.on("mouseenter",function(n){$(".hint, .hint2").remove(),t.hintTimeDelay>0?setTimeout(function(){e.createHint(),t._hint.show()},t.hintTimeDelay):(e.createHint(),t._hint.show()),n.preventDefault()}),this.element.on("mouseleave",function(e){t._hint.length&&t._hint.hide().remove(),e.preventDefault()})},createHint:function(){var e,t=this.element,n=t.data("hint").split("|"),a=this.options;if($.each(t.data(),function(e,t){if(e in a)try{a[e]=$.parseJSON(t)}catch(n){a[e]=t}}),"TD"===t[0].tagName||"TH"===t[0].tagName){var o=$("<div/>").css("display","inline-block").html(t.html());t.html(o),t=o}var i=n.length>1&&n[0],s=n.length>1?n[1]:n[0];e=$("<div/>").appendTo("body"),2===a.hintMode?e.addClass("hint2"):e.addClass("hint"),a.hintBorder||e.addClass("no-border"),i&&$("<div/>").addClass("hint-title").html(i).appendTo(e),$("<div/>").addClass("hint-text").html(s).appendTo(e),e.addClass(a.position),a.hintShadow&&e.addClass("shadow"),a.hintBackground&&(metroUtils.isColor(a.hintBackground)?e.css("background-color",a.hintBackground):e.addClass(a.hintBackground)),a.hintColor&&(metroUtils.isColor(a.hintColor)?e.css("color",a.hintColor):e.addClass(a.hintColor)),a.hintMaxSize>0&&e.css({"max-width":a.hintMaxSize}),"top"===a.hintPosition?(e.addClass("top"),e.css({top:t.offset().top-$(window).scrollTop()-e.outerHeight()-20,left:2===a.hintMode?t.offset().left+t.outerWidth()/2-e.outerWidth()/2-$(window).scrollLeft():t.offset().left-$(window).scrollLeft()})):"right"===a.hintPosition?(e.addClass("right"),e.css({top:2===a.hintMode?t.offset().top+t.outerHeight()/2-e.outerHeight()/2-$(window).scrollTop()-10:t.offset().top-10-$(window).scrollTop(),left:t.offset().left+t.outerWidth()+15-$(window).scrollLeft()})):"left"===a.hintPosition?(e.addClass("left"),e.css({top:2===a.hintMode?t.offset().top+t.outerHeight()/2-e.outerHeight()/2-$(window).scrollTop()-10:t.offset().top-10-$(window).scrollTop(),left:t.offset().left-e.outerWidth()-10-$(window).scrollLeft()})):(e.addClass("bottom"),e.css({top:t.offset().top-$(window).scrollTop()+t.outerHeight(),left:2===a.hintMode?t.offset().left+t.outerWidth()/2-e.outerWidth()/2-$(window).scrollLeft():t.offset().left-$(window).scrollLeft()})),a._hint=e,a.hintTimeout>0&&setTimeout(function(){a._hint.length&&a._hint.hide().remove()},a.hintTimeout)},_destroy:function(){},_setOption:function(e,t){this._super("_setOption",e,t)}});var _notify_container=!1,_notifies=[],Notify={_container:null,_notify:null,_timer:null,version:"3.0.0",options:{icon:"",caption:"",content:"",shadow:!0,width:"auto",height:"auto",style:!1,position:"right",timeout:3e3,keepOpen:!1,type:"default"},init:function(e){return this.options=$.extend({},this.options,e),this._build(),this},_build:function(){var e=this,t=this.options;if(this._container=_notify_container||$("<div/>").addClass("notify-container").appendTo("body"),_notify_container=this._container,""===t.content||void 0===t.content)return!1;if(this._notify=$("<div/>").addClass("notify"),"default"!==t.type&&this._notify.addClass(t.type),t.shadow&&this._notify.addClass("shadow"),t.style&&void 0!==t.style.background&&this._notify.css("background-color",t.style.background),t.style&&void 0!==t.style.color&&this._notify.css("color",t.style.color),""!==t.icon){$(t.icon).addClass("notify-icon").appendTo(this._notify)}""!==t.caption&&void 0!==t.caption&&$("<div/>").addClass("notify-title").html(t.caption).appendTo(this._notify),""!==t.content&&void 0!==t.content&&$("<div/>").addClass("notify-text").html(t.content).appendTo(this._notify),$("<span/>").addClass("notify-closer").appendTo(this._notify).on("click",function(){e.close(0)}),"auto"!==t.width&&this._notify.css("min-width",t.width),"auto"!==t.height&&this._notify.css("min-height",t.height),this._notify.hide().appendTo(this._container).fadeIn("slow"),_notifies.push(this._notify),t.keepOpen||this.close(t.timeout)},close:function(e){var t=this;return void 0===e?this._hide():(setTimeout(function(){t._hide()},e),this)},_hide:function(){var e=this;return void 0!==this._notify&&(this._notify.fadeOut("slow",function(){$(this).remove(),_notifies.splice(_notifies.indexOf(e._notify),1)}),this)},closeAll:function(){return _notifies.forEach(function(e){e.hide("slow",function(){e.remove(),_notifies.splice(_notifies.indexOf(e),1)})}),this}};return $.Notify=function(e){return Object.create(Notify).init(e)},$.Notify.show=function(e,t,n){return $.Notify({content:e,caption:t,icon:n})},$.widget("metro.tabcontrol",{version:"3.0.0",options:{openTarget:!1,saveState:!1,onTabClick:function(e){return!0},onTabChange:function(e){},_current:{tab:!1,frame:!1}},_create:function(){var e,t,n,a=this.element,o=this.options,i=a.children(".tabs").find("li").children("a");a.children(".frames").children("div");if($.each(a.data(),function(e,t){
if(e in o)try{o[e]=$.parseJSON(t)}catch(n){o[e]=t}}),o.saveState&&void 0!==a.attr("id")&&""!==a.attr("id").trim()){var s=window.localStorage.getItem(a.attr("id")+"-stored-tab");s&&"undefined"!==s&&(e=a.find("a[href='"+s+"']"))&&(t=e.attr("href"),n=(!t||!metroUtils.isUrl(t))&&$(t),o._current.tab=e,o._current.frame=n)}if(o._current.tab||!1===o.openTarget||(e=a.find("a[href='"+o.openTarget+"']"))&&(t=e.attr("href"),n=(!t||!metroUtils.isUrl(t))&&$(t),o._current.tab=e,o._current.frame=n),o._current.tab||$.each(i,function(e,t){var n=$(t),a=n.attr("href"),i=!metroUtils.isUrl(a)&&$(a);n.parent().hasClass("active")&&!n.parent().hasClass("disabled")&&!1!==i&&(o._current.tab=n,o._current.frame=i)}),!o._current.tab)for(var r=0;r<i.length;r++)if(!metroUtils.isUrl($(i[r]).attr("href"))&&!$(i[r]).parent().hasClass("disabled")){o._current.tab=$(i[r]),o._current.frame=$($(i[r]).attr("href"));break}this._createEvents(),this._openTab(),a.data("tabcontrol",this)},_hideTabs:function(){var e=this.element,t=e.outerWidth(),n=e.children(".tabs").find("li:not(.non-visible-tabs)"),a=e.children(".tabs").find(".non-visible-tabs").children(".d-menu");$.each(n,function(){var e=$(this),n=this;if(n.offsetLeft+n.offsetWidth+30>t){e.clone(!0).appendTo(a),e.remove()}})},_openTab:function(){var e=this.element,t=this.options,n=e.children(".tabs").find("li").children("a"),a=e.children(".frames").children("div");n.parent().removeClass("active"),a.hide(),t._current.tab.parent().addClass("active"),t._current.frame.show(),t.saveState&&void 0!==e.attr("id")&&""!==e.attr("id").trim()&&window.localStorage.setItem(e.attr("id")+"-stored-tab",t._current.tab.attr("href"))},_createEvents:function(){var that=this,element=this.element,o=this.options,tabs=element.children(".tabs").find("li").children("a"),frames=element.children(".frames").children("div");element.on("click",".tabs > li > a",function(e){var result,tab=$(this),target=tab.attr("href"),frame=$(target);if(tab.parent().hasClass("disabled"))return!1;if("function"==typeof o.onTabClick){if(!o.onTabClick(tab))return!1}else if("function"==typeof window[o.onTabClick]){if(!window[o.onTabClick](tab))return!1}else if(result=eval("(function(){"+o.onTabClick+"})"),!result.call(tab))return!1;if(metroUtils.isUrl(target))return window.location.href=target,!0;o._current.tab=tab,o._current.frame=frame,that._openTab(),"function"==typeof o.onTabChange?o.onTabChange(tab):"function"==typeof window[o.onTabChange]?window[o.onTabChange](tab):(result=eval("(function(){"+o.onTabChange+"})"),result.call(tab)),e.preventDefault(),e.stopPropagation()})},hideTab:function(e){},showTab:function(e){},_destroy:function(){},_setOption:function(e,t){this._super("_setOption",e,t)}}),$.Metro.init()});